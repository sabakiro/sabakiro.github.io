<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="UTF-8">
  <meta 
    name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <meta 
    http-equiv="X-UA-Compatible" 
    content="ie=edge">
  <meta 
    name="theme-color" 
    content="#fff" 
    id="theme-color">
  <meta 
    name="description" 
    content="Hexo">
  <link 
    rel="icon" 
    href="/">
  <title>go_1</title>
  
    
      <meta 
        property="og:title" 
        content="go_1">
    
    
      <meta 
        property="og:url" 
        content="https://sabakiro.github.io/2023/09/18/go-1/index.html">
    
    
      <meta 
        property="og:img" 
        content="https://s1.ax1x.com/2023/07/26/pCvilc9.jpg">
    
    
    
      <meta 
        property="og:type" 
        content="article">
      <meta 
        property="og:article:published_time" 
        content="2023-09-18">
      <meta 
        property="og:article:modified_time" 
        content="2023-09-23">
      <meta 
        property="og:article:author" 
        content="sabakiro">
      
        
          <meta 
            property="og:article:tag" 
            content="go">
        
      
    
  
  
  <link rel="preload" href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css" as="style" >
  <link rel="preload" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css" as="style" >
  <link rel="preload" href="/css/main.css" as="style" >
  
  <link rel="modulepreload" href="//instant.page/5.1.0">
  
  <link rel="stylesheet" href="/css/main.css">
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css">
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css">
  
  
  
    <link rel="stylesheet" href="/js/lib/lightbox/baguetteBox.min.css">
  
  <script>
    function loadScript(url, cb) {
      var script = document.createElement('script');
      script.src = url;
      if (cb) script.onload = cb;
      script.async = true;
      document.body.appendChild(script);
    }
    function loadCSS(href, data, attr) {
      var sheet = document.createElement('link');
      sheet.ref = 'stylesheet';
      sheet.href = href;
      sheet.dataset[data] = attr;
      document.head.appendChild(sheet);
    }
    function changeCSS(cssFile, data, attr) {
      var oldlink = document.querySelector(data);
      var newlink = document.createElement("link");
      newlink.setAttribute("rel", "stylesheet");
      newlink.setAttribute("href", cssFile);
      newlink.dataset.prism = attr;
      document.head.replaceChild(newlink, oldlink);
    }
  </script>
  
    
  
  <script>
    // control reverse button
    var reverseDarkList = {
      dark: 'light',
      light: 'dark'
    };
    var themeColor = {
      dark: '#1c1c1e',
      light: '#fff'
    }
    // get the data of css prefers-color-scheme
    var getCssMediaQuery = function() {
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    };
    // reverse current darkmode setting function
    var reverseDarkModeSetting = function() {
      var setting = localStorage.getItem('user-color-scheme');
      if(reverseDarkList[setting]) {
        setting = reverseDarkList[setting];
      } else if(setting === null) {
        setting = reverseDarkList[getCssMediaQuery()];
      } else {
        return;
      }
      localStorage.setItem('user-color-scheme', setting);
      return setting;
    };
    // apply current darkmode setting
  </script>
  
    <script>
      var setDarkmode = function(mode) {
      var setting = mode || localStorage.getItem('user-color-scheme');
      if(setting === getCssMediaQuery()) {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[setting];
        document.getElementById('theme-color').dataset.mode = setting;
      } else if(reverseDarkList[setting]) {
        document.documentElement.setAttribute('data-user-color-scheme', setting);
        document.getElementById('theme-color').content = themeColor[setting];
        document.getElementById('theme-color').dataset.mode = setting;
      } else {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[getCssMediaQuery()];
        document.getElementById('theme-color').dataset.mode = getCssMediaQuery();
      }
    };
    setDarkmode();
    </script>
  
  
  
    <link rel="preload" href="/js/lib/lightbox/baguetteBox.min.js" as="script">
    <link rel="preload" href="/js/lib/lightbox/baguetteBox.min.css" as="style" >
  
  
    <link rel="preload" href="/js/lib/lozad.min.js" as="script">
  
  
  
  
  
  
<meta name="generator" content="Hexo 6.3.0"></head>

  <body>
    <div class="wrapper">
       
      <nav class="navbar">
  <div class="navbar-logo">
    <a class="navbar-logo-main" href="/">
      
      <span class="navbar-logo-dsc">kaze</span>
      </a>
  </div>
  <div class="navbar-menu">
    
      <a 
        href="/" 
        class="navbar-menu-item">
        
          Home
        
      </a>
    
      <a 
        href="/archives" 
        class="navbar-menu-item">
        
          Archive
        
      </a>
    
      <a 
        href="/tags" 
        class="navbar-menu-item">
        
          Tags
        
      </a>
    
      <a 
        href="/categories" 
        class="navbar-menu-item">
        
          Categories
        
      </a>
    
      <a 
        href="/about" 
        class="navbar-menu-item">
        
          About
        
      </a>
    
      <a 
        href="/links" 
        class="navbar-menu-item">
        
          Friends
        
      </a>
    
    <button 
      class="navbar-menu-item darknavbar navbar-menu-btn" 
      aria-label="Toggle dark mode"
      id="dark">
      <i class="iconfont icon-weather"></i>
    </button>
    <button 
      class="navbar-menu-item searchnavbar navbar-menu-btn" 
      aria-label="Toggle search"
      id="search">
      <!-- <i 
        class="iconfont icon-search" 
        style="font-size: 1.2rem; font-weight: 400;">
      </i> -->
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img"
        class="iconify iconify--ion" width="28" height="28" preserveAspectRatio="xMidYMid meet" viewBox="0 0 512 512">
        <path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="28"
          d="M256 80a176 176 0 1 0 176 176A176 176 0 0 0 256 80Z"></path>
        <path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="28"
          d="M232 160a72 72 0 1 0 72 72a72 72 0 0 0-72-72Z"></path>
        <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="28"
          d="M283.64 283.64L336 336"></path>
      </svg>
    </button>
  </div>
</nav> 
      
      <div 
        id="local-search" 
        style="display: none">
        <input
          class="navbar-menu-item"
          id="search-input"
          placeholder="请输入搜索内容..." />
        <div id="search-content"></div>
      </div>
      
      <div class="section-wrap">
        <div class="container">
          <div class="columns">
            <aside class="left-column">
              
              <div class="card card-author">
                
  <img 
    src="https://s1.ax1x.com/2023/07/26/pCvilc9.jpg" 
    class="author-img"
    width="88"
    height="88"
    alt="author avatar">

<p class="author-name">sabakiro</p>
<p class="author-description">none</p>
<div class="author-message">
  <a 
    class="author-posts-count" 
    href="/archives">
    <span>64</span>
    <span>Posts</span>
  </a>
  <a 
    class="author-categories-count" 
    href="/categories">
    <span>0</span>
    <span>Categories</span>
  </a>
  <a 
    class="author-tags-count" 
    href="/tags">
    <span>11</span>
    <span>Tags</span>
  </a>
</div>

              </div>
               <div class="sticky-tablet">
  
  
    <article class="display-when-two-columns spacer">
      <div class="card card-content toc-card">
        <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>TOC
</div>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F%E8%A1%A8%E7%A4%BA"><span class="toc-text">常量表示</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-text">注意</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE"><span class="toc-text">枚举</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E5%90%88%E5%AD%97%E9%9D%A2%E9%87%8F%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">复合字面量初始化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%87%E7%89%87"><span class="toc-text">切片</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#map"><span class="toc-text">map</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#string"><span class="toc-text">string</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%B5%8B%E5%80%BC%E9%A1%BA%E5%BA%8F"><span class="toc-text">表达式赋值顺序</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B"><span class="toc-text">函数式编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%AF%E9%87%8C%E5%8C%96%E5%87%BD%E6%95%B0"><span class="toc-text">柯里化函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E5%AD%90"><span class="toc-text">函子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%B6%E7%BB%AD%E4%BC%A0%E9%80%92%E6%80%A7%E5%BC%8F%EF%BC%88CPS%EF%BC%89"><span class="toc-text">延续传递性式（CPS）</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%80%92%E5%BD%92"><span class="toc-text">递归</span></a></li></ol></li></ol></li></ol></li></ol></li></ol>
      </div>
    </article>
  
  
  <article class="card card-content categories-widget">
    <div class="categories-card">
  <div class="categories-header">
    <i 
      class="iconfont icon-fenlei" 
      style="padding-right: 2px;">
    </i>Categories
  </div>
  <div class="categories-list">
    
  </div>
</div>
  </article>
  
  <article class="card card-content tags-widget">
    <div class="tags-card">
  <div class="tags-header">
    <i 
      class="iconfont icon-biaoqian" 
      style="padding-right: 2px;">
    </i>hot tags
  </div>
  <div class="tags-list">
    
      <a 
        href="/tags/rust/" 
        title="rust">
        <div class="tags-list-item">rust</div>
      </a>
    
      <a 
        href="/tags/vue/" 
        title="vue">
        <div class="tags-list-item">vue</div>
      </a>
    
      <a 
        href="/tags/c/" 
        title="c#">
        <div class="tags-list-item">c#</div>
      </a>
    
      <a 
        href="/tags/go/" 
        title="go">
        <div class="tags-list-item">go</div>
      </a>
    
      <a 
        href="/tags/linux/" 
        title="linux">
        <div class="tags-list-item">linux</div>
      </a>
    
      <a 
        href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%AE%97%E6%B3%95/" 
        title="数据结构 算法">
        <div class="tags-list-item">数据结构 算法</div>
      </a>
    
      <a 
        href="/tags/json/" 
        title="json">
        <div class="tags-list-item">json</div>
      </a>
    
      <a 
        href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" 
        title="数据结构">
        <div class="tags-list-item">数据结构</div>
      </a>
    
      <a 
        href="/tags/%E7%AE%97%E6%B3%95/" 
        title="算法">
        <div class="tags-list-item">算法</div>
      </a>
    
      <a 
        href="/tags/flutter/" 
        title="flutter">
        <div class="tags-list-item">flutter</div>
      </a>
    
      <a 
        href="/tags/golang/" 
        title="golang">
        <div class="tags-list-item">golang</div>
      </a>
    
  </div>
</div>
  </article>
  
  
</div>
            </aside>
            <main class="main-column">
              
<article class="card card-content">
  <header>
    <h1 class="post-title">
      go_1
    </h1>
  </header>
  <div class="post-meta post-show-meta">
    <time datetime="2023-09-18T13:13:37.000Z">
      <i 
        class="iconfont icon-calendar" 
        style="margin-right: 2px;">
      </i>
      <span>2023-09-18</span>
    </time>
    
    
      <span class="dot"></span>
      <span>1.5k words</span>
    
  </div>
  
    <div 
      class="post-meta post-show-meta" 
      style="margin-top: -10px;">
      <div style="display: flex; align-items: center;">
        <i 
          class="iconfont icon-biaoqian" 
          style="margin-right: 2px; font-size: 1.15rem;">
        </i>
        
          
          <a 
            href="/tags/go/" 
            class="post-meta-link">
            go
          </a>
        
      </div>
    </div>
  
  </header>
  <div 
    id="section" 
    class="post-content">
    <h2 id="常量表示"><a href="#常量表示" class="headerlink" title="常量表示"></a>常量表示</h2><pre class="highlight"><span class="line"><span class="comment">//显示指定类型</span></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	O_RDONLY <span class="type">int</span> = <span class="number">0</span></span><br><span class="line">	O_WRONLY <span class="type">int</span> = <span class="number">1</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">//无类型常量(常用)</span></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	SeekStart   = <span class="number">0</span></span><br><span class="line">	SeekCurrent = <span class="number">1</span></span><br><span class="line">)</span><br><span class="line"></span><br></pre>
<h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><pre class="highlight"><span class="line"><span class="keyword">const</span>(</span><br><span class="line">	A,B=<span class="number">11</span>,<span class="number">22</span></span><br><span class="line">	S,G</span><br><span class="line">)</span><br><span class="line"><span class="comment">//等价于</span></span><br><span class="line"><span class="keyword">const</span>(</span><br><span class="line">	A,B=<span class="number">11</span>,<span class="number">22</span></span><br><span class="line">	S,G=<span class="number">11</span>,<span class="number">22</span></span><br><span class="line">)</span><br></pre>

<h2 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h2><pre class="highlight"><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	S0 = <span class="literal">iota</span> <span class="comment">//0</span></span><br><span class="line">	S1        <span class="comment">//1</span></span><br><span class="line">	S2 = <span class="number">3</span></span><br><span class="line">	S3        <span class="comment">//3</span></span><br><span class="line">	S4        <span class="comment">//3</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	S0, S1 = <span class="literal">iota</span>, <span class="literal">iota</span> + <span class="number">10</span> <span class="comment">//0 10</span></span><br><span class="line">	S2, S3                   <span class="comment">//1 11</span></span><br><span class="line">	S4, s5                   <span class="comment">//2 12</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	_  = <span class="literal">iota</span></span><br><span class="line">	s1 <span class="comment">//1</span></span><br><span class="line">	s2 <span class="comment">//2</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	_  = <span class="literal">iota</span></span><br><span class="line">	s1 <span class="comment">//1</span></span><br><span class="line">	s2 <span class="comment">//2</span></span><br><span class="line">	_  <span class="comment">//相当于_ = iota，相当于掠过了4这个枚举值</span></span><br><span class="line">	s4 <span class="comment">//4</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	S0 = <span class="literal">iota</span> <span class="comment">//0</span></span><br><span class="line">	S1        <span class="comment">//1</span></span><br><span class="line">	S2 = <span class="number">3</span></span><br><span class="line">	_  = <span class="literal">iota</span> </span><br><span class="line">	S4        <span class="comment">//4</span></span><br><span class="line">)</span><br><span class="line"></span><br></pre>

<h2 id="复合字面量初始化"><a href="#复合字面量初始化" class="headerlink" title="复合字面量初始化"></a>复合字面量初始化</h2><pre class="highlight"><span class="line"><span class="comment">//结构体</span></span><br><span class="line">s := MyStruct&#123;<span class="string">&quot;tony&quot;</span>, <span class="number">23</span>&#125;</span><br><span class="line">s := MyStruct&#123;Name: <span class="string">&quot;tony&quot;</span>, Age: <span class="number">23</span>&#125;<span class="comment">//推荐使用</span></span><br><span class="line"><span class="comment">//数组</span></span><br><span class="line">a := [<span class="number">5</span>]<span class="type">int</span>&#123;<span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>&#125;</span><br><span class="line"><span class="comment">//切片</span></span><br><span class="line">s1 := []<span class="type">int</span>&#123;<span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>&#125;</span><br><span class="line"><span class="comment">//键值对</span></span><br><span class="line">m := <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">string</span>&#123;<span class="number">1</span>: <span class="string">&quot;ciallo&quot;</span>, <span class="number">2</span>: <span class="string">&quot;world&quot;</span>&#125;</span><br></pre>

<h2 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h2><p>slice描述符</p>
<pre class="highlight"><span class="line"><span class="keyword">type</span> slice <span class="keyword">struct</span>&#123;</span><br><span class="line">	array unsafe.Pointer</span><br><span class="line">	<span class="built_in">len</span> <span class="type">int</span></span><br><span class="line">	<span class="built_in">cap</span> <span class="type">int</span></span><br><span class="line">&#125;</span><br></pre>

<h2 id="map"><a href="#map" class="headerlink" title="map"></a>map</h2><p>map描述符</p>
<pre class="highlight"><span class="line"><span class="keyword">type</span> maptype <span class="keyword">struct</span> &#123;</span><br><span class="line">	typ        _type</span><br><span class="line">	key        *_type</span><br><span class="line">	elem       *_type</span><br><span class="line">	bucket     *_type <span class="comment">//表示hash bucket的内部类型</span></span><br><span class="line">	keysize    <span class="type">uint8</span>  <span class="comment">//key的大小</span></span><br><span class="line">	elemsize   <span class="type">uint8</span>  <span class="comment">//elem的大小</span></span><br><span class="line">	bucketsize <span class="type">uint16</span> <span class="comment">//bucket的大小</span></span><br><span class="line">	flags      <span class="type">uint32</span></span><br><span class="line">&#125;</span><br></pre>

<h2 id="string"><a href="#string" class="headerlink" title="string"></a>string</h2><p>string描述符</p>
<pre class="highlight"><span class="line"><span class="keyword">type</span> stringStruct <span class="keyword">struct</span> &#123;</span><br><span class="line">	str unsafe.Pointer</span><br><span class="line">	<span class="built_in">len</span> <span class="type">int</span></span><br><span class="line">&#125;</span><br></pre>
<p>构建字符串的方法<br>fmt.Sprintf<br>strings.Join<br>strings.Builder<br>bytes.Buffer</p>
<ol>
<li>做了预初始化的<code>strings.Builder</code>连接构建字符串效率最高；</li>
<li>带有预初始化的<code>bytes.Buffer</code>和<code>strings.Join</code>这两种方法效率十分接近，分列二三位；</li>
<li>未做预初始化的<code>strings.Builder</code>、<code>bytes.Buffer</code>和操作符连接在第三档次；</li>
<li><code>fmt.Sprintf</code>性能最差，排在末尾。<pre class="highlight"><span class="line"><span class="keyword">var</span> str strings.Builder</span><br><span class="line"><span class="comment">//初始化</span></span><br><span class="line">str.Grow(<span class="number">30</span>)</span><br><span class="line"><span class="comment">//构建字符串</span></span><br><span class="line">str.WriteString(<span class="string">&quot;ciallo world&quot;</span>)</span><br><span class="line">fmt.Println(&amp;str)</span><br></pre></li>
</ol>
<h2 id="表达式赋值顺序"><a href="#表达式赋值顺序" class="headerlink" title="表达式赋值顺序"></a>表达式赋值顺序</h2><pre class="highlight"><span class="line">n0 := <span class="number">10</span></span><br><span class="line">n1 := <span class="number">100</span></span><br><span class="line">n0, n1 = n0+n1, n0</span><br><span class="line">s := <span class="string">`n0:%d,n1:%d`</span></span><br><span class="line">fmt.Println(fmt.Sprintf(s, n0, n1))<span class="comment">//n0:110,n1:10</span></span><br></pre>

<p>包级变量由初始化依赖决定的求值顺序</p>
<pre class="highlight"><span class="line"><span class="keyword">var</span> (</span><br><span class="line">	a <span class="type">int</span> = c + b<span class="comment">//4轮初始化</span></span><br><span class="line">	b     = f()<span class="comment">//2轮初始化</span></span><br><span class="line">	c     = f()<span class="comment">//3轮初始化</span></span><br><span class="line">	d     = <span class="number">3</span> <span class="comment">//1轮初始化</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	d++</span><br><span class="line">	<span class="keyword">return</span> d</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">fmt.Printf(<span class="string">&quot;a:%d,b:%d,c:%d,d:%d&quot;</span>,a,b,c,d)<span class="comment">//a:9,b:4,c:5,d:5</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre>

<p>普通求值顺序</p>
<pre class="highlight"><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;calling f&quot;</span>)</span><br><span class="line">	<span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">g</span><span class="params">(a, b, c <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;calling g&quot;</span>)</span><br><span class="line">	<span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">h</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;calling h&quot;</span>)</span><br><span class="line">	<span class="keyword">return</span> <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">i</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;calling i&quot;</span>)</span><br><span class="line">	<span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">j</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;calling j&quot;</span>)</span><br><span class="line">	<span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">k</span><span class="params">()</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;calling k&quot;</span>)</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> y = []<span class="type">int</span>&#123;<span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>&#125;</span><br><span class="line">	<span class="keyword">var</span> x = []<span class="type">int</span>&#123;<span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> c <span class="keyword">chan</span> <span class="type">int</span> = <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		c &lt;- <span class="number">1</span></span><br><span class="line">	&#125;()</span><br><span class="line"></span><br><span class="line">	y[f()], _ = g(h(), i()+x[j()], &lt;-c), k()</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">calling f</span></span><br><span class="line"><span class="comment">calling h</span></span><br><span class="line"><span class="comment">calling i</span></span><br><span class="line"><span class="comment">calling j</span></span><br><span class="line"><span class="comment">calling g</span></span><br><span class="line"><span class="comment">calling k</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre>

<p>普通求值顺序与包级变量的初始化依赖顺序一并使用时</p>
<pre class="highlight"><span class="line"><span class="keyword">var</span> a, b, c = f() + v(), g(), sqr(u()) + v()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;calling f&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">g</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;calling g&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sqr</span><span class="params">(x <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;calling sqr&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> x * x</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">v</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;calling v&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">u</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;calling u&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(a, b, c)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">calling g</span></span><br><span class="line"><span class="comment">calling u</span></span><br><span class="line"><span class="comment">calling sqr</span></span><br><span class="line"><span class="comment">calling v</span></span><br><span class="line"><span class="comment">calling f</span></span><br><span class="line"><span class="comment">calling v</span></span><br><span class="line"><span class="comment">6 1 5</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre>

<p>switch&#x2F;select语句中的表达式求值<br>switch</p>
<pre class="highlight"><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Expr</span><span class="params">(n <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	fmt.Println(n)</span><br><span class="line">	<span class="keyword">return</span> n</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">switch</span> Expr(<span class="number">2</span>) &#123;</span><br><span class="line">	<span class="keyword">case</span> Expr(<span class="number">1</span>), Expr(<span class="number">2</span>), Expr(<span class="number">3</span>):</span><br><span class="line">		fmt.Println(<span class="string">&quot;enter into case1&quot;</span>)</span><br><span class="line">		<span class="keyword">fallthrough</span></span><br><span class="line">	<span class="keyword">case</span> Expr(<span class="number">4</span>):</span><br><span class="line">		fmt.Println(<span class="string">&quot;enter into case2&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">enter into case1</span></span><br><span class="line"><span class="comment">enter into case2</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre>
<p>select</p>
<pre class="highlight"><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getAReadOnlyChannel</span><span class="params">()</span></span> &lt;-<span class="keyword">chan</span> <span class="type">int</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;invoke getAReadOnlyChannel&quot;</span>)</span><br><span class="line">	c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		time.Sleep(<span class="number">3</span> * time.Second)</span><br><span class="line">		c &lt;- <span class="number">1</span></span><br><span class="line">	&#125;()</span><br><span class="line">	<span class="keyword">return</span> c</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getASlice</span><span class="params">()</span></span> *[<span class="number">5</span>]<span class="type">int</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;invoke getASlice&quot;</span>)</span><br><span class="line">	<span class="keyword">var</span> a [<span class="number">5</span>]<span class="type">int</span></span><br><span class="line">	<span class="keyword">return</span> &amp;a</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getAWriteOnlyChannel</span><span class="params">()</span></span> <span class="keyword">chan</span>&lt;- <span class="type">int</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;invoke getAWriteOnlyChannel&quot;</span>)</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getANumToChannel</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;invoke getANumToChannel&quot;</span>)</span><br><span class="line">	<span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">select</span> &#123;</span><br><span class="line">	<span class="comment">// 从channel接收数据</span></span><br><span class="line">	<span class="keyword">case</span> (getASlice())[<span class="number">0</span>] = &lt;-getAReadOnlyChannel():</span><br><span class="line">		fmt.Println(<span class="string">&quot;recv something from a readonly channel&quot;</span>)</span><br><span class="line">	<span class="comment">// 将数据发送到channel</span></span><br><span class="line">	<span class="keyword">case</span> getAWriteOnlyChannel() &lt;- getANumToChannel():</span><br><span class="line">		fmt.Println(<span class="string">&quot;send something to a writeonly channel&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">invoke getAReadOnlyChannel</span></span><br><span class="line"><span class="comment">invoke getAWriteOnlyChannel</span></span><br><span class="line"><span class="comment">invoke getANumToChannel</span></span><br><span class="line"><span class="comment">invoke getASlice</span></span><br><span class="line"><span class="comment">recv something from a readonly channel</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre>
<h1 id="函数式编程"><a href="#函数式编程" class="headerlink" title="函数式编程"></a>函数式编程</h1><h3 id="柯里化函数"><a href="#柯里化函数" class="headerlink" title="柯里化函数"></a>柯里化函数</h3><pre class="highlight"><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">将原来接受两个参数的函数times转换为接受一个参数的函数partialTimes的过程。</span></span><br><span class="line"><span class="comment">通过partialTimes函数构造的timesTwo将输入参数扩大为原先的2倍、</span></span><br><span class="line"><span class="comment">timesThree将输入参数扩大为原先的3倍，以此类堆。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">这个例子利用了函数的两点性质：在函数中定义，</span></span><br><span class="line"><span class="comment">通过返回值返回；闭包。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">times</span><span class="params">(x, y <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> x * y</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">partialTimes</span><span class="params">(x <span class="type">int</span>)</span></span> <span class="function"><span class="keyword">func</span><span class="params">(<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(y <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> times(x, y)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	timesTwo := partialTimes(<span class="number">2</span>)</span><br><span class="line">	timesThree := partialTimes(<span class="number">3</span>)</span><br><span class="line">	timesFour := partialTimes(<span class="number">4</span>)</span><br><span class="line">	fmt.Println(timesTwo(<span class="number">5</span>))</span><br><span class="line">	fmt.Println(timesThree(<span class="number">5</span>))</span><br><span class="line">	fmt.Println(timesFour(<span class="number">5</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">10</span></span><br><span class="line"><span class="comment">15</span></span><br><span class="line"><span class="comment">20</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre>

<h3 id="函子"><a href="#函子" class="headerlink" title="函子"></a>函子</h3><pre class="highlight"><span class="line"><span class="keyword">type</span> IntSliceFunctor <span class="keyword">interface</span> &#123;</span><br><span class="line">	Fmap(fn <span class="function"><span class="keyword">func</span><span class="params">(<span class="type">int</span>)</span></span> <span class="type">int</span>) IntSliceFunctor</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> IntSliceFunctorImpl <span class="keyword">struct</span> &#123;</span><br><span class="line">	ints []<span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(i *IntSliceFunctorImpl)</span></span> Fmap(fn <span class="function"><span class="keyword">func</span><span class="params">(<span class="type">int</span>)</span></span> <span class="type">int</span>) IntSliceFunctor &#123;</span><br><span class="line">	newInts := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="built_in">len</span>(i.ints))</span><br><span class="line">	<span class="keyword">for</span> i, elt := <span class="keyword">range</span> i.ints &#123;</span><br><span class="line">		retInt := fn(elt)</span><br><span class="line">		newInts[i] = retInt</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> &amp;IntSliceFunctorImpl&#123;ints: newInts&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewIntSliceFunctor</span><span class="params">(slice []<span class="type">int</span>)</span></span> IntSliceFunctor &#123;</span><br><span class="line">	<span class="keyword">return</span> &amp;IntSliceFunctorImpl&#123;ints: slice&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">//原切片</span></span><br><span class="line">	intSlice := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;init a functor from int slice: %#v\n&quot;</span>, intSlice)</span><br><span class="line">	f := NewIntSliceFunctor(intSlice)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;original functor: %+v\n&quot;</span>, f)</span><br><span class="line">	mapperFunc1 := <span class="function"><span class="keyword">func</span><span class="params">(i <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> i + <span class="number">10</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	mapped1 := f.Fmap(mapperFunc1)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;mapped functor1 %+v\n&quot;</span>, mapped1)</span><br><span class="line"></span><br><span class="line">	mapperFunc2 := <span class="function"><span class="keyword">func</span><span class="params">(i <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> i * <span class="number">3</span></span><br><span class="line">	&#125;</span><br><span class="line">	mapped2 := mapped1.Fmap(mapperFunc2)</span><br><span class="line">	</span><br><span class="line">	fmt.Printf(<span class="string">&quot;mapped functor2: %+v\n&quot;</span>, mapped2)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;original functor: %+v\n&quot;</span>, f)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;composite functor: %+v\n&quot;</span>, f.Fmap(mapperFunc1).Fmap(mapperFunc2))</span><br><span class="line">&#125;</span><br></pre>
<h3 id="延续传递性式（CPS）"><a href="#延续传递性式（CPS）" class="headerlink" title="延续传递性式（CPS）"></a>延续传递性式（CPS）</h3><pre class="highlight"><span class="line"><span class="comment">//没有CSP风格</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Max</span><span class="params">(n, m <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> n &gt; m &#123;</span><br><span class="line">		<span class="keyword">return</span> n</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> m</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//CSP风格</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">MAX_CSP</span><span class="params">(n, m <span class="type">int</span>, f <span class="keyword">func</span>(<span class="type">int</span>)</span></span>) &#123;</span><br><span class="line">	<span class="keyword">if</span> n &gt; m &#123;</span><br><span class="line">		f(n)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		f(m)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%d\n&quot;</span>, Max(<span class="number">5</span>, <span class="number">6</span>))</span><br><span class="line">	MAX_CSP(<span class="number">5</span>, <span class="number">6</span>, <span class="function"><span class="keyword">func</span><span class="params">(i <span class="type">int</span>)</span></span> &#123; fmt.Printf(<span class="string">&quot;%d\n&quot;</span>, i) &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre>
<h6 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h6><p>CPS需要语言支持尾递归优化，但Go目前并不支持</p>
<pre class="highlight"><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">factorial</span><span class="params">(n <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> n == <span class="number">1</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> n * factorial(n<span class="number">-1</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">factorial_csp</span><span class="params">(n <span class="type">int</span>, f <span class="keyword">func</span>(i <span class="type">int</span>)</span></span>) &#123;</span><br><span class="line">	<span class="keyword">if</span> n == <span class="number">1</span> &#123;</span><br><span class="line">		f(<span class="number">1</span>)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		factorial_csp(n<span class="number">-1</span>, <span class="function"><span class="keyword">func</span><span class="params">(i <span class="type">int</span>)</span></span> &#123; f(n * i) &#125;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%d\n&quot;</span>, factorial(<span class="number">5</span>))</span><br><span class="line">	factorial_csp(<span class="number">5</span>, <span class="function"><span class="keyword">func</span><span class="params">(i <span class="type">int</span>)</span></span> &#123; fmt.Printf(<span class="string">&quot;%d\n&quot;</span>, i) &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre>

  </div>
  <div>
    
      <div 
        class="post-note note-warning copyright" 
        style="margin-top: 42px">
        <p>
          <span style="font-weight: bold;">作者：</span><a 
            target="_blank" 
            rel="nofollow noopener noreferrer" 
            href="/about">
            sabakiro
          </a>
        </p>
        <p>
          <span style="font-weight: bold;">文章链接：</span><a 
            target="_blank" 
            rel="nofollow noopener noreferrer" 
            href="https://sabakiro.github.io/2023/09/18/go-1/">
            https://sabakiro.github.io/2023/09/18/go-1/
          </a>
        </p>
        <p><span style="font-weight: bold;">版权声明：</span>本博客所有文章除特别声明外，均采用<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0 协议</a>。转载请注明出处！</p>
      </div>
    
  </div>
</article>
<div class="nav">
  
    <div class="nav-item-prev">
      <a 
        href="/2023/09/24/go-2/" 
        class="nav-link">
        <i class="iconfont icon-left nav-prev-icon"></i>
        <div>
          <div class="nav-label">Prev</div>
          
            <div class="nav-title">go-2 </div>
          
        </div>
      </a>
    </div>
  
  
    <div class="nav-item-next">
      <a 
        href="/2023/09/17/%E5%9B%BE/" 
        class="nav-link">
        <div>
          <div class="nav-label">Next</div>
          
            <div class="nav-title">图 </div>
          
        </div>
        <i class="iconfont icon-right nav-next-icon"></i>
      </a>
    </div>
  
</div>

<div 
  class="card card-content toc-card" 
  id="mobiletoc">
  <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>TOC
</div>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F%E8%A1%A8%E7%A4%BA"><span class="toc-text">常量表示</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-text">注意</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE"><span class="toc-text">枚举</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E5%90%88%E5%AD%97%E9%9D%A2%E9%87%8F%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">复合字面量初始化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%87%E7%89%87"><span class="toc-text">切片</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#map"><span class="toc-text">map</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#string"><span class="toc-text">string</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%B5%8B%E5%80%BC%E9%A1%BA%E5%BA%8F"><span class="toc-text">表达式赋值顺序</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B"><span class="toc-text">函数式编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%AF%E9%87%8C%E5%8C%96%E5%87%BD%E6%95%B0"><span class="toc-text">柯里化函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E5%AD%90"><span class="toc-text">函子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%B6%E7%BB%AD%E4%BC%A0%E9%80%92%E6%80%A7%E5%BC%8F%EF%BC%88CPS%EF%BC%89"><span class="toc-text">延续传递性式（CPS）</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%80%92%E5%BD%92"><span class="toc-text">递归</span></a></li></ol></li></ol></li></ol></li></ol></li></ol>
</div>
            </main>
            <aside class="right-column">
              <div class="sticky-widescreen">
  
  
    <article class="card card-content toc-card">
      <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>TOC
</div>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F%E8%A1%A8%E7%A4%BA"><span class="toc-text">常量表示</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-text">注意</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE"><span class="toc-text">枚举</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E5%90%88%E5%AD%97%E9%9D%A2%E9%87%8F%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">复合字面量初始化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%87%E7%89%87"><span class="toc-text">切片</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#map"><span class="toc-text">map</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#string"><span class="toc-text">string</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%B5%8B%E5%80%BC%E9%A1%BA%E5%BA%8F"><span class="toc-text">表达式赋值顺序</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B"><span class="toc-text">函数式编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%AF%E9%87%8C%E5%8C%96%E5%87%BD%E6%95%B0"><span class="toc-text">柯里化函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E5%AD%90"><span class="toc-text">函子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%B6%E7%BB%AD%E4%BC%A0%E9%80%92%E6%80%A7%E5%BC%8F%EF%BC%88CPS%EF%BC%89"><span class="toc-text">延续传递性式（CPS）</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%80%92%E5%BD%92"><span class="toc-text">递归</span></a></li></ol></li></ol></li></ol></li></ol></li></ol>
    </article>
  
  
  <article class="card card-content">
    <div class="recent-posts-card">
  <div class="recent-posts-header">
    <i 
      class="iconfont icon-wenzhang_huaban" 
      style="padding-right: 2px;">
    </i>Recent Posts
  </div>
  <div class="recent-posts-list">
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2023-09-24</div>
        <a href="/2023/09/24/json/"><div class="recent-posts-item-content">json</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2023-09-24</div>
        <a href="/2023/09/24/%E7%BA%BF%E7%B4%A2%E4%BA%8C%E5%8F%89%E6%A0%91%E5%92%8C%E6%9F%A5%E6%89%BE%E7%AE%97%E6%B3%95/"><div class="recent-posts-item-content">线索二叉树查找算法</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2023-09-24</div>
        <a href="/2023/09/24/go-2/"><div class="recent-posts-item-content">go-2</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2023-09-18</div>
        <a href="/2023/09/18/go-1/"><div class="recent-posts-item-content">go_1</div></a>
      </div>
    
  </div>
</div>
  </article>
  
  
</div>
            </aside>
          </div>
        </div>
      </div>
    </div>
     
    <footer class="footer">
  <div class="footer-container">
    <div>
      <div class="footer-dsc">
        <span>
          Copyright ©
          
            2020
          
          
                - 
                2023
          
        </span>
        &nbsp;
        <a 
          href="/" 
          class="footer-link">
          kaze
        </a>
      </div>
    </div>

    
      <div class="footer-dsc">
        
          Powered by
          <a 
            href="https://hexo.io/" 
            class="footer-link" 
            target="_blank" 
            rel="nofollow noopener noreferrer">
            &nbsp;Hexo
          </a>
        
        
          <span>&nbsp;|&nbsp;</span>
        
        
          Theme -
          <a 
            href="https://github.com/theme-kaze" 
            class="footer-link" 
            target="_blank"
            rel="nofollow noopener noreferrer">
            &nbsp;Kaze
          </a>
        
      </div>
    
    
    
    
</footer>
 
    
  <a 
    role="button" 
    id="scrollbutton" 
    class="basebutton" 
    href="#"
    aria-label="回到顶部">
    <i class="iconfont icon-arrowleft button-icon"></i>
  </a>

<a 
  role="button" 
  id="menubutton"
  aria-label="menu button"
  class="basebutton">
  <i class="iconfont icon-menu button-icon"></i>
</a>
<a 
  role="button" 
  id="popbutton" 
  class="basebutton" 
  aria-label="控制中心">
  <i class="iconfont icon-expand button-icon"></i>
</a>
<a 
  role="button" 
  id="darkbutton" 
  class="basebutton darkwidget" 
  aria-label="夜色模式">
  <i class="iconfont icon-weather button-icon"></i>
</a>
<a 
  role="button" 
  id="searchbutton" 
  class="basebutton searchwidget" 
  aria-label="搜索">
  <i class="iconfont icon-search button-icon"></i>
</a> 
     
     
     
      <script>
  var addImgLayout = function () {
    var img = document.querySelectorAll('.post-content img')
    var i
    for (i = 0; i < img.length; i++) {
      var wrapper = document.createElement('a')
      wrapper.setAttribute('href', img[i].getAttribute('data-src'))
      wrapper.setAttribute('aria-label', 'illustration')
      wrapper.style.cssText =
        'width: 100%; display: flex; justify-content: center;'
      if (img[i].alt) wrapper.dataset.caption = img[i].alt
      wrapper.dataset.nolink = true
      img[i].before(wrapper)
      wrapper.append(img[i])
      var divWrap = document.createElement('div')
      divWrap.classList.add('gallery')
      wrapper.before(divWrap)
      divWrap.append(wrapper)
    }
    baguetteBox.run('.gallery')
  }
</script>
<script>
  loadScript(
    "/js/lib/lightbox/baguetteBox.min.js",
    addImgLayout
  )
</script>
 
     
     
    <script src="/js/main.js"></script> 
     
    
      <script>
        var addLazyload = function () {
          var observer = lozad('.lozad', {
            load: function (el) {
              el.srcset = el.getAttribute('data-src')
            },
            loaded: function (el) {
              el.classList.add('loaded')
            },
          })
          observer.observe()
        }
      </script>
      <script>
        loadScript('/js/lib/lozad.min.js', addLazyload)
      </script>
    
    <script src="//instant.page/5.1.0" type="module"
      integrity="sha384-by67kQnR+pyfy8yWP4kPO12fHKRLHZPfEsiSXR8u2IKcTdxD805MGUXBzVPnkLHw"></script>
    
    
  </body>
</html>
